# Vietnamese Algorithmic Trading System - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
APP_NAME="Vietnamese Algorithmic Trading System"
APP_VERSION="0.1.0"
APP_ENV="development"  # development, staging, production
DEBUG=true
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Main Database
DATABASE_URL="postgresql+psycopg2://vnalgo:vnalgo123@localhost:5432/vnalgo"
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30

# Airflow Database
AIRFLOW_DATABASE_URL="postgresql+psycopg2://vnalgo:vnalgo123@localhost:5432/airflow"

# Superset Database
SUPERSET_DATABASE_URL="postgresql+psycopg2://vnalgo:vnalgo123@localhost:5432/superset"

# Trading Database
TRADING_DATABASE_URL="postgresql+psycopg2://vnalgo:vnalgo123@localhost:5432/trading"

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL="redis://:redis123@localhost:6379"
REDIS_DB_CACHE=0
REDIS_DB_CELERY=1
REDIS_DB_SESSIONS=2
REDIS_POOL_MAX_CONNECTIONS=10

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS="localhost:9092"
KAFKA_SECURITY_PROTOCOL="PLAINTEXT"
KAFKA_SASL_MECHANISM=""
KAFKA_SASL_USERNAME=""
KAFKA_SASL_PASSWORD=""

# Kafka Topics
KAFKA_TOPIC_MARKET_TICKS="market.ticks.vnse"
KAFKA_TOPIC_MARKET_BARS="market.bars.1min"
KAFKA_TOPIC_TRADING_SIGNALS="trading.signals"
KAFKA_TOPIC_TRADE_EXECUTIONS="trading.executions"
KAFKA_TOPIC_RISK_ALERTS="risk.alerts"

# =============================================================================
# OBJECT STORAGE (MinIO/S3)
# =============================================================================
MINIO_ENDPOINT="localhost:9000"
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin123"
MINIO_SECURE=false
MINIO_BUCKET_NAME="vn-algo-data"

# AWS S3 (Alternative to MinIO)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_DEFAULT_REGION="ap-southeast-1"
AWS_S3_BUCKET=""

# =============================================================================
# DATA SOURCE APIS
# =============================================================================
# VND Direct API
VND_API_BASE_URL="https://api.vndirect.com.vn"
VND_API_KEY=""
VND_API_SECRET=""

# SSI API
SSI_API_BASE_URL="https://iboard-api.ssi.com.vn"
SSI_API_KEY=""
SSI_API_SECRET=""

# TCBS API
TCBS_API_BASE_URL="https://apipubaws.tcbs.com.vn"
TCBS_API_KEY=""

# Yahoo Finance (Free tier)
YAHOO_FINANCE_API_KEY=""

# Alpha Vantage
ALPHA_VANTAGE_API_KEY=""

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
# Trading Mode
TRADING_MODE="PAPER"  # PAPER, LIVE
PAPER_TRADING_INITIAL_CAPITAL=1000000000  # 1 billion VND
PAPER_TRADING_COMMISSION_RATE=0.0015  # 0.15%

# Risk Management
MAX_POSITION_SIZE_PCT=0.05  # 5% max position size
MAX_DAILY_LOSS_PCT=0.02     # 2% max daily loss
MAX_PORTFOLIO_LEVERAGE=1.0   # No leverage
STOP_LOSS_PCT=0.03          # 3% stop loss
TAKE_PROFIT_PCT=0.06        # 6% take profit

# Trading Hours (Vietnam Stock Exchange)
TRADING_START_TIME="09:00"
TRADING_END_TIME="15:00"
TIMEZONE="Asia/Ho_Chi_Minh"

# =============================================================================
# AIRFLOW CONFIGURATION
# =============================================================================
AIRFLOW__CORE__EXECUTOR="CeleryExecutor"
AIRFLOW__CORE__FERNET_KEY="Zv5K1zKFwLdJ9XzMl4N2Bq8R7tGhYfEa3sD6uP0wE="
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION="true"
AIRFLOW__CORE__LOAD_EXAMPLES="false"
AIRFLOW__CORE__DEFAULT_TIMEZONE="Asia/Ho_Chi_Minh"
AIRFLOW__WEBSERVER__SECRET_KEY="your-airflow-secret-key"
AIRFLOW__WEBSERVER__EXPOSE_CONFIG="true"

# =============================================================================
# SUPERSET CONFIGURATION
# =============================================================================
SUPERSET_SECRET_KEY="your-super-secret-superset-key-change-in-production"
SUPERSET_CONFIG_PATH="/app/superset_config.py"
FLASK_ENV="development"

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH="/metrics"

# Grafana
GRAFANA_ADMIN_USER="admin"
GRAFANA_ADMIN_PASSWORD="admin123"

# Logging
LOG_FORMAT="json"  # json, text
LOG_FILE_PATH="logs/vnalgo.log"
LOG_ROTATION="1 day"
LOG_RETENTION="30 days"

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=""
OTEL_SERVICE_NAME="vn-algo-trading"
OTEL_RESOURCE_ATTRIBUTES="service.name=vn-algo-trading,service.version=0.1.0"

# =============================================================================
# JUPYTER CONFIGURATION
# =============================================================================
JUPYTER_ENABLE_LAB="yes"
JUPYTER_TOKEN="vnalgo123"
JUPYTER_PASSWORD=""
JUPYTER_PORT=8888

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Configuration
JWT_SECRET_KEY="your-jwt-secret-key-min-32-chars"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Security
API_RATE_LIMIT="100/minute"
API_CORS_ORIGINS='["http://localhost:3000", "http://localhost:8088"]'

# Encryption
ENCRYPTION_KEY="your-32-byte-encryption-key-here"

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
# Python/Spark Configuration
PYSPARK_DRIVER_MEMORY="2g"
PYSPARK_EXECUTOR_MEMORY="2g"
PYSPARK_EXECUTOR_CORES=2
SPARK_SERIALIZER="org.apache.spark.serializer.KryoSerializer"

# C++ Indicators
USE_CPP_INDICATORS=true
CPP_THREAD_COUNT=4
SIMD_ENABLED=true

# Caching
ENABLE_REDIS_CACHE=true
CACHE_DEFAULT_TIMEOUT=300  # 5 minutes
CACHE_LONG_TIMEOUT=3600    # 1 hour

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
# Development flags
ENABLE_DEBUG_TOOLBAR=true
ENABLE_PROFILING=false
ENABLE_HOT_RELOAD=true

# Testing
TEST_DATABASE_URL="postgresql+psycopg2://vnalgo:vnalgo123@localhost:5432/vnalgo_test"
PYTEST_WORKERS=auto

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
# Email
SMTP_SERVER=""
SMTP_PORT=587
SMTP_USERNAME=""
SMTP_PASSWORD=""
SMTP_USE_TLS=true
ADMIN_EMAIL=""

# Slack
SLACK_BOT_TOKEN=""
SLACK_CHANNEL_ALERTS="#trading-alerts"
SLACK_CHANNEL_GENERAL="#trading-general"

# Discord
DISCORD_BOT_TOKEN=""
DISCORD_CHANNEL_ID=""

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
# Database Backup
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=""

# Data Retention
RAW_DATA_RETENTION_DAYS=90
PROCESSED_DATA_RETENTION_DAYS=365
LOG_RETENTION_DAYS=30

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_PAPER_TRADING=true
ENABLE_LIVE_TRADING=false
ENABLE_BACKTESTING=true
ENABLE_STRATEGY_OPTIMIZATION=true
ENABLE_RISK_MANAGEMENT=true
ENABLE_NOTIFICATIONS=true
ENABLE_METRICS_COLLECTION=true

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================
# Add your custom environment variables here